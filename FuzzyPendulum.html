<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns:css="http://macVmlSchemaUri" xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta name=Title content="Fuzzy Pendulum Demonstration">
<meta name=Keywords content="">
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 2008">
<meta name=Originator content="Microsoft Word 2008">
<link rel=File-List href="FuzzyPendulum_files/filelist.xml">
<link rel=Edit-Time-Data href="FuzzyPendulum_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Fuzzy Pendulum Demonstration</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>rorchard</o:Author>
  <o:Template>Normal.dotm</o:Template>
  <o:LastAuthor>Bob Orchard</o:LastAuthor>
  <o:Revision>8</o:Revision>
  <o:TotalTime>10</o:TotalTime>
  <o:Created>2002-07-25T20:25:00Z</o:Created>
  <o:LastSaved>2014-01-20T22:56:00Z</o:LastSaved>
  <o:Pages>2</o:Pages>
  <o:Words>1054</o:Words>
  <o:Characters>6009</o:Characters>
  <o:Company>National Research Council</o:Company>
  <o:Lines>50</o:Lines>
  <o:Paragraphs>12</o:Paragraphs>
  <o:CharactersWithSpaces>7379</o:CharactersWithSpaces>
  <o:Version>12.0</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>150</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:SplitPgBreakAndParaMark/>
   <w:DontVertAlignCellWithSp/>
   <w:DontBreakConstrainedForcedTables/>
   <w:DontVertAlignInTxbx/>
   <w:Word11KerningPairs/>
   <w:CachedColBalance/>
   <w:UseFELayout/>
  </w:Compatibility>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="276">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--table.MSONORMALTABLE
	{mso-bidi-language:"\#0400";}

 /* Font Definitions */
@font-face
	{font-family:"Courier New";
	panose-1:2 7 3 9 2 2 5 2 4 4;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Times;
	panose-1:2 0 5 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
h1
	{mso-style-link:"Heading 1 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-outline-level:1;
	font-size:24.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Times;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;
	mso-hansi-font-family:Times;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
p
	{margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
tt
	{font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Courier New";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-locked:yes;
	mso-style-link:"Heading 1";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:Calibri;
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#345A8A;
	font-weight:bold;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:612.0pt 792.0pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:36.0pt;
	mso-footer-margin:36.0pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:minor-latin;}
</style>
<![endif]-->
</head>

<body bgcolor=white lang=EN-US link=blue vlink=blue style='tab-interval:36.0pt'>

<div class=Section1>

<h1 align=center style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;
margin-left:0cm;text-align:center'>Fuzzy Pendulum Demo</h1>

<h1 align=center style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;
margin-left:0cm;text-align:center'><o:p>&nbsp;</o:p></h1>

<p class=MsoNormal><span style='mso-bidi-font-family:"Times New Roman"'>This
demonstration of Fuzzy Logic has been created using the FuzzyJ Toolkit for the
Java(tm) Platform that was created by at </span>the <a
href="http://www.iit.nrc.ca/">National Research Council of Canada</a>. The code
for this demo is entirely Java(tm) code, although there is a capability to
create more sophisticated rule based expert systems in concert with <a
href="http://herzberg.ca.sandia.gov/jess/">Jess (Expert System Shell)</a> from
Sandia National Laboratories (see the demo of the hybrid Java/Jess Fuzzy
Shower). </span><span style='font-size:10.0pt;font-family:Times;mso-fareast-font-family:
"Times New Roman";mso-fareast-theme-font:minor-fareast'><o:p></o:p></span></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>This
is a reworking of an example originally created by Michelangelo <span
class=SpellE>Sebastiani</span> in FLIPC. There was also a version we wrote for
FuzzyCLIPS (using the version of <span class=SpellE>wxClips</span> that
contains the FuzzyCLIPS extensions). </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>This
is a demonstration of fuzzy logic control using a stationary inverted pendulum
with a variable mass on the top of the pendulum and a variable strength motor
on the bottom that will try to balance the pendulum.&nbsp; The demonstration is
designed for &quot;hands on&quot; evaluation in order to see how fuzzy logic
works. The user can manipulate the mass size, the motor size, and enable or
disable any of the fuzzy rules that are used to control the pendulum balancing.
The simulation can also be run in step mode. In the initial state of operation
all of the rules are enabled, a <span style='color:black'>yellow bopper</span>
rod will appear from the left and knock the mass to the right whenever the
pendulum is balanced (within certain tolerances) and the mass will not be <span
style='color:#00CC00'>bobbing</span> up and down. <b style='mso-bidi-font-weight:
normal'>The actual running applet can be found at the bottom of this page</b>. </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" alt="" style='width:313pt;
 height:252pt'>
 <v:imagedata src="pendulum.gif"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=315 height=254
src="FuzzyPendulum_files/image001.png" v:shapes="_x0000_i1025"><![endif]></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>The
top right area shows the pendulum itself. The <span style='color:red'>red</span>
bob at the top of the pendulum is the mass. The mass can be changed using the
slider just below the pendulum graphic. The <span style='color:aqua'>cyan</span>
colored ball at the bottom of the pendulum is a motor which, when given
current, drives the pendulum one way or the other. The motor strength also can
be changed using a slider located just below the pendulum graphic. </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><!--[if gte vml 1]><v:shape
 id="_x0000_i1026" type="#_x0000_t75" alt="" style='width:352pt;height:258pt'>
 <v:imagedata src="pendulumRules.gif"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=354 height=260
src="FuzzyPendulum_files/image002.png" v:shapes="_x0000_i1026"><![endif]></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>At
the top left, in matrix format, we see the fuzzy logic rules that control the
pendulum. Each element in the matrix corresponds to a rule. For example, the
3rd row, 1st column in the matrix can be read as: </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><tt><span
style='font-size:10.0pt'>&nbsp;&nbsp; IF Error is NM and Omega is Z</span></tt>
<br>
<span class=GramE><tt><span style='font-size:10.0pt'>&nbsp;&nbsp; THEN</span></tt></span><tt><span
style='font-size:10.0pt'> set Current to PM</span></tt> </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>As
the simulation runs, all of the rules represented at the matrix positions are
considered for firing. If the inputs match well enough then the rule will fire.
The contribution of each of the rules that fires is aggregated to determine a
total output for the rule set. This is an inference cycle. When a rule fires in
the knowledge base, the background of the matrix element corresponding to that
rule is highlighted in green (as 2 of the rules are shown above). If the rule
is disabled the background of the matrix area is set to a <span
style='color:#666666'>dark gray</span>. If the rule is enabled but is not currently
firing it is a blue color. In this example <b style='mso-bidi-font-weight:normal'><i
style='mso-bidi-font-style:normal'>Error</i></b> refers to the difference (in
radians) between the angle of the pendulum and the upright position (PI/2). <b
style='mso-bidi-font-weight:normal'><i style='mso-bidi-font-style:normal'>Omega</i></b>
is the angular velocity of the pendulum. The fuzzy terms are described by: </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-top:.1pt;margin-right:36.0pt;margin-bottom:
.1pt;margin-left:36.0pt;mso-para-margin-top:.01gd;mso-para-margin-right:36.0pt;
mso-para-margin-bottom:.01gd;mso-para-margin-left:36.0pt'><tt><span
style='font-size:10.0pt'>NM&nbsp; - negative medium</span></tt><span
style='mso-bidi-font-family:"Times New Roman"'> <br>
</span><tt><span style='font-size:10.0pt'>NS&nbsp; - negative small</span></tt><span
style='mso-bidi-font-family:"Times New Roman"'> <br>
</span><tt><span style='font-size:10.0pt'>ZE&nbsp; - zero</span></tt><span
style='mso-bidi-font-family:"Times New Roman"'> <br>
</span><tt><span style='font-size:10.0pt'>PS&nbsp; - positive small</span></tt><span
style='mso-bidi-font-family:"Times New Roman"'> <br>
</span><tt><span style='font-size:10.0pt'>PM&nbsp; - positive medium<o:p></o:p></span></tt></p>

<p class=MsoNormal style='margin-top:.1pt;margin-right:36.0pt;margin-bottom:
.1pt;margin-left:36.0pt;mso-para-margin-top:.01gd;mso-para-margin-right:36.0pt;
mso-para-margin-bottom:.01gd;mso-para-margin-left:36.0pt'><span
style='mso-bidi-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-bidi-font-family:"Times New Roman"'>&nbsp;To
enable or disable one of the 11 rules, select the appropriate radio button
below the matrix and then click on the rule in the matrix. <o:p></o:p></span></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>You
may also notice that one of the labels of the rule conclusions is shown in
yellow. Above, this is the Z at the Z<span class=GramE>,Z</span> position of
the matrix. This shows which of the 11 rules is selected to be displayed
graphically below the matrix. <span class=GramE>This rule can be changed by
first selecting the <b style='mso-bidi-font-weight:normal'>display</b> radio
button and then click on the rule in the matrix</span>. </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><img
border=0 width=292 height=171 id="_x0000_i1027" src="ruleDisplay1.gif"><img
border=0 width=290 height=172 id="_x0000_i1028" src="ruleDisplay2.gif"></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>The
area on the left below the rule matrix shows the output from each cycle of <span
class=SpellE>inferencing</span>. Immediately below the matrix is the output of
the rule selected for display. Above we show two examples of this display area.
Each represents one of the 2 rules that have fired in the current inference
cycle. The graphics show the shapes of the fuzzy sets that represents the terms
of the antecedent parts of the rule and the conclusion part. The a <span
style='color:aqua'>cyan</span> colored shape shows the fuzzy set for the rule
part and the <span style='color:red'>red</span> overlay on this shape shows the
degree of matching for that term, given the current state of the error and
omega values. </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><!--[if gte vml 1]><v:shape
 id="_x0000_i1029" type="#_x0000_t75" alt="" style='width:232pt;height:122pt'>
 <v:imagedata src="ruleDisplay3.gif"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=234 height=124
src="FuzzyPendulum_files/image003.png" v:shapes="_x0000_i1029"><![endif]></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>Below
the graphic for the displayed rule is the aggregated (global) result of the
output from all of the rules that fired in the current inference cycle. In the
case above we had 2 rules that fired and each produced a fuzzy out for the
Current. The aggregation (union) of the 2 outputs is shown above. From this
aggregated output we determine the crisp value for the next setting of the
motor current by <span class=SpellE>defuzzifying</span> the global current
output. </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><img
border=0 width=343 height=128 id="_x0000_i1030" src="currentTrace.gif"></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>In
the right middle section we display the values of <b style='mso-bidi-font-weight:
normal'>error</b>, <b style='mso-bidi-font-weight:normal'>omega</b> and <b
style='mso-bidi-font-weight:normal'>current</b> as well as a graph that shows
in strip chart format the most recent values of the <b style='mso-bidi-font-weight:
normal'>current</b>. </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><!--[if gte vml 1]><v:shape
 id="_x0000_i1031" type="#_x0000_t75" alt="" style='width:343pt;height:120pt'>
 <v:imagedata src="pendulumControl.gif"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=345 height=122
src="FuzzyPendulum_files/image004.png" v:shapes="_x0000_i1031"><![endif]></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'><o:p>&nbsp;</o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>The
final area of the simulation allows the user to control various aspects of the
simulation. By selecting the <b style='mso-bidi-font-weight:normal'>Step Mode</b>
check box the simulation is switched into step mode and the <b
style='mso-bidi-font-weight:normal'>Next Step</b> Button is enabled. Clicking on
this button will advance the simulation one time step, allowing the user to
examine the effect of each inference cycle. Selecting the <b style='mso-bidi-font-weight:
normal'>Freeze 5 Sec</b> button will cause the simulation to pause for 5
seconds, enough time to look at the state of the system without going to step
mode. By default the simulation will have a yellow rod come from the left and <b
style='mso-bidi-font-weight:normal'>bop</b> the mass whenever the pendulum is
stable (balanced). This can be enabled or disabled by selecting the <b
style='mso-bidi-font-weight:normal'>Stop Bopping</b> check box. Also by default
the mass does not <b style='mso-bidi-font-weight:normal'>bob</b> up and down
(as if the pendulum is a spring). <span class=GramE>This can be changed by
setting the <b style='mso-bidi-font-weight:normal'>Bob Up/Down</b> check box</span>.
Finally the user can cause the mass to be pulled all the way to the right or
all the way to the left or just given a slight bump to the left or right with
the appropriate buttons. </p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>The
simulation applet should appear below. Note that your browser MUST be set up to
use JFC/Swing 1.1.1 or later. This may require that your <span class=SpellE>classpath</span>
environment variable be set to include the required jar file (<span
class=SpellE>swingall.jar</span>). <br>
&nbsp; <o:p></o:p></p>

<p style='margin-top:.1pt;margin-right:0cm;margin-bottom:.1pt;margin-left:0cm'>

<applet code="examples/fuzzypendulum/FuzzyPendulumJApplet.class" width=739
 height=620 name="Fuzzy Pendulum Applet" archive=FuzzyPendulumJAppletNew.jar
 alt="Your browser supports the Applet tag but cannot start the application: perhaps Java applet support is disabled">
 Sorry, No Java appears to be available for the browser!!! 
</applet>

<br>
&nbsp; </p>

</div>

</body>

</html>
